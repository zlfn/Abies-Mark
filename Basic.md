# 문법
기본 형태는 나무마크와 유사하나, 많은 부분을 때려 고치고 위키에서만 동작할 문법들을 제거한 형태입니다.  
어비스 마크에만 존재하는 문법은 끝에 별을 답니다. 나무마크와 호환하기 위한 문법은 끝에 네모를 답니다.  
네모 문법은 렌더러 옵션을 통해 제거 가능합니다.  

## 텍스트 형태
* `'''굵게'''` : 텍스트가 굵게 출력됩니다.
* `//기울임//` : 텍스트가 기울여져서 출력됩니다. ★
    - `''기울임''` : 나무마크와의 호환을 위해 이 형태로도 제공됩니다. ▪️
* `'''//굵게 기울임//'''` : 굵은 텍스트가 기울여져서 출력됩니다. ★
    - `''' ''굵게 기울임'' '''` : 위와 같습니다. ▪️
* `__밑줄__` : 밑줄이 출력됩니다.
* `--취소선1--` : 취소선이 출력됩니다.
    - `~~취소선2~~` : 위의 형태를 권장하나, 호환을 위해 남깁니다. ▪️
* `기준글자^^위첨자^^` : 텍스트 크기는 -2입니다.
* `기준글자^{-2 위첨자}` : 위와 같습니다. -의 숫자를 조정하여 글자 크기를 바꿀 수 있습니다. ★
    - `기준글자^{{{-2 위첨자}}}`는 **기준글자^-2위첨자**라는 평문으로 출력됩니다.  
* `기준글자^{- 위첨자}` : 특수 중괄호 문법입니다. -가 자동으로 -2로 치환됩니다.★  
* `기준글자,,아래첨자,,` : 텍스트 크기는 -2입니다.
* `기준글자,{-2 아래첨자}` : 위와 같습니다. -의 숫자를 조정하여 글자 크기를 바꿀 수 있습니다. ★
* `기준글자,{- 아래첨자}` : 위와 같습니다. ★
* `{ 리터럴 }` : 문법이 적용되지 않고 그대로 출력됩니다. 띄어쓰기에 주의해주세요. ★
    - `{{{리터럴}}}` : 이 형태는 띄어쓰기가 필요 없습니다.
    - **예시 코드**  
    `{ 리터럴 }` : 리터럴  
    `{{ 리터럴 }}` : {리터럴} (중간에 { 리터럴 }이 인식됨.)  
    `{{리터럴}}` : {{리터럴}} (인식되지 않음)  
    `{ {리터럴} }` : {리터럴}  
    `{{{{리터럴}}}}` : {리터럴} (3개 문법)  
    `{{{{{리터럴}}}}}` : {{리터럴}}  
    
## 텍스트 크기
기본 텍스트 크기는 나무위키와 달리 1rem 입니다. 글자 크기 제한은 없습니다. 무한정 늘어납니다.
* `{+x 텍스트}` : 텍스트가 x의 크기만큼 증가하여 출력됩니다. 1당 0.1rem. ★
    - `{{{+x 텍스트}}}` : 같은 방식으로 작동합니다.
* `{-x 텍스트}` : 텍스트가 x의 크기만큼 감소하여 출력됩니다. 1당 0.1rem ★
    - `{{{-x 텍스트}}}` : 이하 동일.
* `{+ 텍스트}` : 특수 중괄호 문법으로, +는 +2로 치환됩니다. ★
* `{- 텍스트}` : -는 -2로 치환됩니다. ★

이외에도 어비스 마크에서는 여러 문단에 걸친 사용을 전제한 광역 서식 문법을 사용 가능합니다. ★
```
={+x}=
텍스트
텍스트
={}=
```
같은 형태로 ={+x}=와 ={}=사이의 모든 문단에 대해서 텍스트 크기를 조정할 수 있습니다.
```
={+x}=
큰 텍스트
={-x}=
작은 텍스트
={}=
```
와 같은 방식으로도 사용 가능합니다.

## 텍스트 색상
* `{#ff0000 텍스트}` : 붉은색 텍스트를 출력합니다. ★
* `{#red 텍스트}` : 같습니다. 나무마크와 마찬가지로 CSS 색상코드를 사용할 수 있습니다. ★
* `{{{#ff0000}}}`, `{{{#red 텍스트}}}` : 나무마크와 같습니다.
* `{#red, #yellow 텍스트}` : 앞에서부터 라이트모드, 다크모드입니다. ★
* 밑줄과 중첩 
    - `{#red __밑줄 포함__}` : 밑줄도 빨간색입니다. ★
    - `__{#red 밑줄 제외}__` : 밑줄은 기본색입니다. ★
    - `{{{#red __밑줄 포함__}}}`, `__{{{#red 밑줄 제외}}}}__` : 나무마크와 같습니다.
* 크기서식과 중첩
    - `{#red, +1 큰글자 빨강}` : 서식간 띄어쓰기로 구분합니다. ★
    - `{+1, #red 큰글자 빨강}` : 위와 같습니다. ★
    - {`#red, +1, #yellow 똑똑한 큰 글자}` : 중간에 뭐가 있든 색상 코드는 앞에서부터 라이트모드, 다크모드입니다. ★
    - `{{{#blue {{{+1 큰글자 파랑}}}}}}` : 나무마크와 같습니다.

광역 서식 문법 ★
```
={+2, #red}=
큰 빨간 글씨
={-2, #yellow}=
작은 노랑 글씨
={}=
그냥 글씨
```
앞으로 나오는 중괄호 문법도 이렇게 사용 가능합니다.  
광역 서식 문법에서 밑줄색의 경우에는 무조건 광역 서식을 따릅니다. 싫을 경우  
`{#white __{#red 밑줄 제외}__}`와 같은 정신나간 문법을 사용 가능하나  
특수 중괄호 문법 `{_ __밑줄제외__}`로도 원상 복구 할 수 있습니다.

## 하이퍼링크
나무마크와 달리 `[[문서]]` 형태의 단순한 하이퍼링크는 없습니다. 대신 래퍼런스 링크라는 문법이 있습니다.
* `[[링크]]` : 링크로 이어지는 하이퍼링크를 만듭니다.
* `[[링크|내용]]]` : 하이퍼링크에 링크 대신 내용이 출력됩니다.
* `[[링크|{+2 내용}]]` : 큰 글자 하이퍼링크입니다. 이외에도 중괄호 문법의 다양한 활용이 가능합니다.
* **래퍼런스 링크** ★
    - `&[제목]:링크&` : 레퍼런스를 생성합니다. 출력되지 않으며, 전처리되므로 위치는 관계 없습니다.
    - `[[제목]]` : 해당 제목의 래퍼런스가 있는 경우 하이퍼 링크를 만듭니다. 없다면 제목이 링크로 간주됩니다 
    - `[[제목/세부링크]]]` : 링크/세부링크로 이어지는 하이퍼 링크를 만듭니다.
    - `[[제목|내용]]` : 위와 같습니다.
    - `[[제목/세부링크|내용]]`
    - `[래퍼런스]` : 해당위치에 래퍼런스 목록을 출력합니다.
    
## 리다이렉트
없습니다.

## 이미지 ★
이미지는 나무마크와 동작 방식이 완전히 다릅니다. 나무마크는 같은 서버내 어딘가에 이미지 파일이 있다고 상정하지만 어비스마크는 이미지 파일이 렌더러에 어비스 마크 파일과 함께 전달되는 것이 권장됩니다.
* `[!이미지 파일 링크]`: 링크에 있는 이미지를 가져와서 표시합니다. 나무마크보다는 마크다운에 가깝습니다.
* `[!이미지 파일 링크|80%, left, #909090]` : 이미지 파일에 다양한 서식을 만들 수 있습니다.
    - 숫자 : width 혹은 height로 취급됩니다. 숫자가 2개 있다면 순서대로 width, height로 취급됩니다.
    - 숫자% : 이미지 크기를 %로 조정합니다. width와 height가 있다면 무시됩니다.
    - left, center, right, top, bottom : 정렬방식을 지정합니다.
    - #코드, #색깔명 : 배경 색을 지정합니다. 2개 있다면 각각 라이트모드, 다크모드로 취급됩니다.
    - **예시코드**  
    `[!링크|#red, #blue, 980, 600, left]`
    `[!링크|80%, #blue, center]`
* **래퍼런스 이미지**  
    래퍼런스 하이퍼링크와 동작 방식이 유사합니다. 단, 레퍼런스 이미지는 링크앞에 http:// 혹은 https:// 가 없을 경우 렌더러가 로컬 이미지 파일에 접근 가능할 것이라고 가정합니다.
    - `&[제목]::링크&` : 래퍼런스를 생성합니다. `[래퍼런스]`에 출력되지 않으며, http:// 를 감지합니다.
    - `[!제목]` : 레퍼런스가 있다면 이미지를 출력합니다. 없다면 링크로 간주합니다.
    - `[!제목|서식]` : 서식에 맞게 이미지를 출력합니다.

## 동영상
만들 예정이지만 지금은 없습니다.

## 문단
나무위키와 다르게, 블로그에 적합한 모양으로 깔끔하게 렌더링됩니다.
* `= 문단 =` : 문단이 출력됩니다.
* `====== 문단 ======` : 6개까지 가능합니다
* `=# 접힌 문단 #=` : 문단을 접어둘 수 있습니다. **권장되지 않습니다.** ▪️
* `======# 접힌 문단 #======` ▪️
* **반드시 공백이 있어야 합니다.**
* 광역 서식 문법 (={}=) 에는 공백이 없습니다

광역 서식 문법과 문단의 중첩
```
={red, +2}=
== 문단 ==
문단 내용1
={}=
문단 내용2
== 다음 문단 ==
```
와 같은 경우에는 2단계 문단 (h2)와 문단 내용 1의 크기가 0.2rem 증가합니다.
싫을 경우 `{-2 == 문단 ==}` 사용이 가능하나, 광역 서식 무효 특수 중괄호 문법을 사용할 수 있습니다.
`{= == 문단 ==}` 와 같이 사용합니다.

## 리스트
나무마크와 리스트 문법은 완전히 같습니다.

## 각주, 인용문
없습니다.

## 수평줄
본문 중간에 -문자를 한줄로 4개 이상 입력하면 수평줄이 생성됩니다. 나무마크와 달리 상한이 없습니다

## 매크로
* `[br]` : `<br>` HTML코드로 변환욉니다.
* `[래퍼런스]`, `[reference]` : 래퍼런스 링크의 목록을 출력합니다. ★
* `[목차]`, `[tableofcontents]` : 목차를 출력합니다.
이 3개 이외의 다른 매크로는 존재하지 않습니다.

## 테이블
저는 나무마크의 표 문법을 싫어합니다.  
가독성이 너무... 좋지 않아요  
따라서 새로운 테이블 문법을 작성중입니다.  
작업중...
